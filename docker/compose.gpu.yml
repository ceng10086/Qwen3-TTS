services:
  qwen3-tts:
    build:
      context: ..
      dockerfile: docker/Dockerfile.gpu
    image: qwen3-tts:gpu
    ports:
      - "8000:8000"
    environment:
      QWEN_TTS_DEVICE: cuda:0
      QWEN_TTS_DTYPE: bfloat16
      QWEN_TTS_FLASH_ATTN: "0"
      QWEN_TTS_DEFAULT_MODEL: Qwen/Qwen3-TTS-12Hz-1.7B-CustomVoice
    volumes:
      - qwen3_tts_data:/data
    gpus: all
    restart: unless-stopped

volumes:
  qwen3_tts_data:
    name: qwen3_tts_data
